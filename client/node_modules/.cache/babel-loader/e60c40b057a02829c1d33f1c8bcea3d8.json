{"ast":null,"code":"import _classCallCheck from \"/Users/maddiemoritz/powerful-mountain-88889/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/maddiemoritz/powerful-mountain-88889/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/maddiemoritz/powerful-mountain-88889/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/maddiemoritz/powerful-mountain-88889/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/maddiemoritz/powerful-mountain-88889/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/maddiemoritz/powerful-mountain-88889/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/maddiemoritz/powerful-mountain-88889/client/src/pages/LoginPage.js\";\nimport React from 'react';\nimport OktaSignIn from '@okta/okta-signin-widget';\n\nvar LoginPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage() {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this));\n    _this.state = {\n      user: null\n    };\n    _this.widget = new OktaSignIn({\n      baseUrl: 'https://dev-704472.okta.com',\n      clientId: '{0oa9rr1dg6NmLHxO24x6}',\n      redirectUri: '/home',\n      authParams: {\n        responseType: 'id_token'\n      }\n    });\n    _this.showLogin = _this.showLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.logout = _this.logout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.widget.session.get(function (response) {\n        if (response.status !== 'INACTIVE') {\n          _this2.setState({\n            user: response.login\n          });\n        } else {\n          _this2.showLogin();\n        }\n      });\n    }\n  }, {\n    key: \"showLogin\",\n    value: function showLogin() {\n      var _this3 = this;\n\n      this.widget.renderEl({\n        el: this.loginContainer\n      }, function (response) {\n        _this3.setState({\n          user: response.claims.email\n        });\n      }, function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var _this4 = this;\n\n      this.widget.signOut(function () {\n        _this4.setState({\n          user: null\n        });\n\n        _this4.showLogin();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }\n      }, this.state.user ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, \"Welcome, \", this.state.user, \"!\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.logout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }, \"Logout\")) : null, this.state.user ? null : /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(div) {\n          _this5.loginContainer = div;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }));\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nexport { LoginPage as default };","map":{"version":3,"sources":["/Users/maddiemoritz/powerful-mountain-88889/client/src/pages/LoginPage.js"],"names":["React","OktaSignIn","LoginPage","state","user","widget","baseUrl","clientId","redirectUri","authParams","responseType","showLogin","bind","logout","session","get","response","status","setState","login","renderEl","el","loginContainer","claims","email","err","console","log","signOut","div","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;IAEqBC,S;;;AACnB,uBAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,KAAL,GAAa;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAb;AACA,UAAKC,MAAL,GAAc,IAAIJ,UAAJ,CAAe;AAC3BK,MAAAA,OAAO,EAAE,6BADkB;AAE3BC,MAAAA,QAAQ,EAAE,wBAFiB;AAG3BC,MAAAA,WAAW,EAAE,OAHc;AAI3BC,MAAAA,UAAU,EAAE;AACVC,QAAAA,YAAY,EAAE;AADJ;AAJe,KAAf,CAAd;AASA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,uDAAjB;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,uDAAd;AAbY;AAcb;;;;wCAEmB;AAAA;;AAClB,WAAKP,MAAL,CAAYS,OAAZ,CAAoBC,GAApB,CAAwB,UAACC,QAAD,EAAc;AACpC,YAAIA,QAAQ,CAACC,MAAT,KAAoB,UAAxB,EAAoC;AAClC,UAAA,MAAI,CAACC,QAAL,CAAc;AAAEd,YAAAA,IAAI,EAAEY,QAAQ,CAACG;AAAjB,WAAd;AACD,SAFD,MAEO;AACL,UAAA,MAAI,CAACR,SAAL;AACD;AACF,OAND;AAOD;;;gCAEW;AAAA;;AACV,WAAKN,MAAL,CAAYe,QAAZ,CAAqB;AAAEC,QAAAA,EAAE,EAAE,KAAKC;AAAX,OAArB,EACE,UAACN,QAAD,EAAc;AACZ,QAAA,MAAI,CAACE,QAAL,CAAc;AAAEd,UAAAA,IAAI,EAAEY,QAAQ,CAACO,MAAT,CAAgBC;AAAxB,SAAd;AACD,OAHH,EAIE,UAACC,GAAD,EAAS;AACPC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OANH;AAQD;;;6BAEQ;AAAA;;AACP,WAAKpB,MAAL,CAAYuB,OAAZ,CAAoB,YAAM;AACxB,QAAA,MAAI,CAACV,QAAL,CAAc;AAAEd,UAAAA,IAAI,EAAE;AAAR,SAAd;;AACA,QAAA,MAAI,CAACO,SAAL;AACD,OAHD;AAID;;;6BAEQ;AAAA;;AACP,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKR,KAAL,CAAWC,IAAX,gBACC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAe,KAAKD,KAAL,CAAWC,IAA1B,MADF,eAEE;AAAQ,QAAA,OAAO,EAAE,KAAKS,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADD,GAKG,IANN,EAOG,KAAKV,KAAL,CAAWC,IAAX,GAAkB,IAAlB,gBACC;AAAK,QAAA,GAAG,EAAE,aAACyB,GAAD,EAAS;AAAE,UAAA,MAAI,CAACP,cAAL,GAAsBO,GAAtB;AAA4B,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,CADF;AAaD;;;;EA3DoC7B,KAAK,CAAC8B,S;;SAAxB5B,S","sourcesContent":["import React from 'react';\nimport OktaSignIn from '@okta/okta-signin-widget';\n\nexport default class LoginPage extends React.Component {\n  constructor() {\n    super();\n    this.state = { user: null };\n    this.widget = new OktaSignIn({\n      baseUrl: 'https://dev-704472.okta.com',\n      clientId: '{0oa9rr1dg6NmLHxO24x6}',\n      redirectUri: '/home',\n      authParams: {\n        responseType: 'id_token'\n      }\n    });\n\n    this.showLogin = this.showLogin.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    this.widget.session.get((response) => {\n      if (response.status !== 'INACTIVE') {\n        this.setState({ user: response.login });\n      } else {\n        this.showLogin();\n      }\n    });\n  }\n\n  showLogin() {\n    this.widget.renderEl({ el: this.loginContainer },\n      (response) => {\n        this.setState({ user: response.claims.email });\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  }\n\n  logout() {\n    this.widget.signOut(() => {\n      this.setState({ user: null });\n      this.showLogin();\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.user ? (\n          <div className=\"container\">\n            <div>Welcome, {this.state.user}!</div>\n            <button onClick={this.logout}>Logout</button>\n          </div>\n        ) : null}\n        {this.state.user ? null : (\n          <div ref={(div) => { this.loginContainer = div; }} />\n        )}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}